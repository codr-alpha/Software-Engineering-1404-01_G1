Here is a textual representation of the diagrams contained in the provided PDF files. They have been categorized by diagram type.

### 1. Entity Relationship (ER) Diagram
**Source:** PDF 1
**Overview:** Defines the database schema for a TOEFL AI platform, focusing on users, questions, evaluations, and logs.

*   **Table: `users`**
    *   **PK:** `user_id` (UUID)
    *   **Columns:** `created_at` (TIMESTAMP), `email` (VARCHAR), `full_name` (VARCHAR), `password_hash` (VARCHAR), `role` (ENUM: 'student', 'admin')
    *   **Relationships:**
        *   One User has Many `api_logs` (0..*)
        *   One User has Many `evaluations` (0..*)

*   **Table: `questions`**
    *   **PK:** `question_id` (UUID)
    *   **Columns:** `difficulty` (INT), `mode` (ENUM: 'independent', 'integrated'), `prompt_text` (TEXT), `resource_url` (VARCHAR), `task_type` (ENUM: 'writing', 'speaking')
    *   **Relationships:**
        *   One Question has Many `evaluations` (0..*)

*   **Table: `evaluations`**
    *   **PK:** `evaluation_id` (UUID)
    *   **FKs:** `question_id`, `user_id`
    *   **Columns:** `ai_feedback` (TEXT), `audio_path` (VARCHAR), `created_at` (TIMESTAMP), `overall_score` (DECIMAL), `submitted_text` (TEXT), `task_type` (VARCHAR), `transcript_text` (TEXT)
    *   **Relationships:**
        *   One Eval has Many `detailed_scores` (Metrics) (0..*)

*   **Table: `detailed_scores`**
    *   **PK:** `score_id` (UUID)
    *   **FK:** `evaluation_id`
    *   **Columns:** `comment` (TEXT), `criterion` (VARCHAR), `score_value` (DECIMAL)

*   **Table: `api_logs`**
    *   **PK:** `log_id` (UUID)
    *   **FK:** `user_id`
    *   **Columns:** `endpoint` (VARCHAR), `latency_ms` (INT), `status_code` (INT), `timestamp` (TIMESTAMP)

---

### 2. Use Case Diagram
**Source:** PDF 2
**Overview:** Illustrates the interactions between actors (Student, Admin) and the system modules.

*   **System:** Toefl AI platform
*   **Actor: Student**
    *   **Module: User Management**
        *   Interacts with: `Manage Profile`, `Register/login`
    *   **Module: Evaluation Service**
        *   Interacts with: `Submit Writing Task` (Includes `LLM(API)`)
        *   Interacts with: `Writing Speaking Task` (Includes `LLM(API)` and `ASR`)
    *   **Module: History**
        *   Interacts with: `View Personal Progress (Trend)`
*   **Actor: Admin**
    *   **Module: Admin Panel**
        *   Interacts with: `Monitor System Health`, `Manage API keys`

---

### 3. Sequence Diagrams
**Overview:** Detailed interaction flows for specific features.

#### A. Writing Evaluation Flow (PDF 3)
*   **Participants:** `Student`, `Writing Interface`, `EvalController`, `EvalService`, `WritingEvaluator`, `LLM Provider`, `Database`.
*   **Flow:**
    1.  **Student** clicks `submit()`.
    2.  **Interface** sends `POST /evaluate/writing {userId, text, questionId}` to **EvalController**.
    3.  **EvalController** calls `evaluateWriting(dto)` on **EvalService**.
    4.  **EvalService** calls `analyze(text, mode)` on **WritingEvaluator**.
    5.  **WritingEvaluator** validates text length locally.
    6.  **WritingEvaluator** calls `sendPrompt(text + rubric)` to **LLM Provider**.
    7.  **LLM Provider** returns `JSON analysis()`.
    8.  **WritingEvaluator** parses JSON and returns `WritingScore()`.
    9.  **EvalService** calls `save()` to **Database**.
    10. **Database** returns `SUCCESS()`.
    11. **EvalService** returns `EvaluationResult()` to **EvalController**.
    12. **EvalController** returns `JSON()` to **Interface**.
    13. **Interface** calls `show in dash()` to **Student**.

#### B. Speaking Evaluation Flow (PDF 4)
*   **Participants:** `Student`, `interface audio`, `EvalController`, `EvalService`, `SpeakingEval`, `ASR`, `LLM service`, `DB`.
*   **Flow:**
    1.  **Student** performs `submit()`.
    2.  **Interface** sends `POST /evaluate/speaking {files, .wav...}` to **EvalController**.
    3.  **EvalController** calls `EvalSpeaking(DTO)` on **EvalService**.
    4.  **EvalService** calls `ProcessAudio(audioFile)` on **SpeakingEval**.
    5.  **SpeakingEval** sends `sendAudio(file)` to **ASR**.
    6.  **ASR** returns `Transcript()`.
    7.  **SpeakingEval** sends `sendPrompt(Transcript + SpeakingRubric)` to **LLM service**.
    8.  **LLM service** returns `JSON response()`.
    9.  **SpeakingEval** returns `SpeakingResult()`.
    10. **EvalService** calls `save(evalResult)` to **DB**.
    11. **DB** returns `success()`.
    12. **EvalService** returns `EvalResult()` to **EvalController**.
    13. **EvalController** returns `JSON OK 200 response()` to **Interface**.
    14. **Interface** executes `play Audio()`.

#### C. Progress/Analytics Flow (PDF 5)
*   **Participants:** `Student`, `Progress Tab`, `EvalController`, `AnalyticsService`, `ResultRepository`, `Database`.
*   **Flow:**
    1.  **Student** requests `progress()`.
    2.  **Tab** sends `GET /api/v1/history/user/(stu_id)` to **EvalController**.
    3.  **EvalController** calls `getHistory()` on **AnalyticsService**.
    4.  **AnalyticsService** calls `findByUserId(userId)` on **ResultRepository**.
    5.  **ResultRepository** executes `Select * ... WHERE user_id = ...` on **Database**.
    6.  **Database** returns data; Repository returns `List<EvalResult>()`.
    7.  **Logic Branch:**
        *   *If User Found:* **AnalyticsService** calls internal `calculate()`, returns `List<EvalRecords>()`. Controller returns `JSON 200 OK()`. Tab executes `render chart()`.
        *   *If Record Not Found:* **AnalyticsService** returns `Empty()`. Controller returns `200 OK (mess: no attempts yet)`. Tab shows `No attempts, Start a test!()`.

#### D. Authentication Flow (PDF 6)
*   **Participants:** `Student`, `Front UI`, `AuthController`, `UserRepository`.
*   **Flow:**
    1.  **Student** enters email/pass.
    2.  **UI** sends `POST /login` to **AuthController**.
    3.  **AuthController** calls `findby(email)` on **UserRepository**.
    4.  **UserRepository** returns `User()`.
    5.  **AuthController** performs `verifyPass(hash)`.
    6.  **AuthController** performs `generateJWT()`.
    7.  **AuthController** returns `200 OK(token, userId)`.
    8.  **UI** executes `redirect to Dash()`.

---

### 4. Class Diagram
**Source:** PDF 7
**Overview:** Defines the object-oriented structure of the backend services.

*   **User:** Attributes (`email`, `passwordHash`, `role`, `userId`), Methods (`login`, `register`).
*   **QuestionBank:** Attributes (`listeningAudioUrl`, `promptText`, `questionId`, `readingPassage`, `type`).
*   **EvaluationController:** Methods (`getHistory`, `submitSpeaking`, `submitWriting`).
*   **AuthController:** Attributes (`jwtSecret`), Methods (`generateJWT`, `login`, `verifyPass`).
*   **EvaluationService:** Methods (`evaluateSpeaking`, `evaluateWriting`, `getTrendAnalysis`).
*   **WritingEvaluator:** Attributes (`llmClient`), Methods (`analyze`, `validateLength`).
*   **SpeakingEvaluator:** Attributes (`asrClient`, `llmClient`), Methods (`analyze`, `transcribe`).
*   **AnalyticsService:** Method (`calculateImprovement`).
*   **ResultRepository:** Methods (`findBy`, `save`).
*   **LLMClient:** Attribute (`apikey`), Method (`sendPrompt`).
*   **ASRClient:** Attribute (`endpoint`), Method (`convertToText`).
*   **DTOs:** `WritingRequest`, `SpeakingRequest`.

---

### 5. Activity Diagrams
**Overview:** Visualizes the algorithmic logic and decision paths.

#### A. Writing Logic (PDF 8)
1.  **Start:** User selects "Writing part".
2.  System Prompts Question.
3.  User types essay.
4.  **Decision (Client Side):** Is Empty?
    *   Yes: Show Error message -> End.
    *   No: Receive Request.
5.  **Decision (API Processing):** Word count < Limit?
    *   Yes: Return Error 400 -> End.
    *   No: Send text to WritingEval.
6.  **AI Analysis:** Construct LLM prompt -> Call LLM via API -> Receive JSON response.
7.  Calculate Score & save results to table.
8.  Return Response to Client and show to user.
9.  **End.**

#### B. Speaking Logic (PDF 9)
1.  **Start:** User enters speaking section.
2.  System Prompts question.
3.  User records via interface and clicks submit.
4.  **Decision (Validation):** File_size > LIMIT?
    *   Yes: Return Err: Invalid File -> End.
    *   No: Send Audio to ASR.
5.  **Server Processing:** Get transcribed text.
6.  **Decision:** Speech detected?
    *   No: Return Err: No speech detected -> End.
    *   Yes: Analysis by LLM.
7.  Combine metrics into final Score.
8.  Generate feedback.
9.  Save audio path, transcript, and score to DB.
10. Display results to user.
11. **End.**

#### C. Progress Logic (PDF 10)
1.  **Start:** Student clicks "My Progress".
2.  **Backend Retrieval:** Fetch all evaluation records from DB where `user_id` matches (limit applied).
3.  **Decision:** List Empty?
    *   Yes: Set Status: "No Data" -> Create "WelcomeStart" msg.
    *   No: Set records by Data(Desc) -> **Analytics Phase** (Calculate stats/AVG -> Calculate Trend) -> Construct HistoryResponse JSON.
4.  Return response to Client.
5.  **Decision:** Response has Data?
    *   Yes: Render Chart -> Render List of Past attempts -> End.
    *   No: Show "Empty State" Graphics -> Show "Start Practice Test" Button -> End.